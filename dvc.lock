schema: '2.0'
stages:
  prepare:
    cmd: uv run src/prepare.py data/CICIDS2017_improved
    deps:
    - path: data/CICIDS2017_improved/friday.csv
      hash: md5
      md5: 7be19ef0498792c2d571745b0b26bd3d
      size: 285188226
      isexec: true
    - path: data/CICIDS2017_improved/monday.csv
      hash: md5
      md5: 970ac311bb290c762c293d545acaaaa2
      size: 207875155
      isexec: true
    - path: data/CICIDS2017_improved/thursday.csv
      hash: md5
      md5: 7dd4ed6edf5968d396af8a9066aa4e39
      size: 189519159
      isexec: true
    - path: data/CICIDS2017_improved/tuesday.csv
      hash: md5
      md5: d067bdf5f6b6be5580cc7c4c62c8f92d
      size: 178397720
      isexec: true
    - path: data/CICIDS2017_improved/wednesday.csv
      hash: md5
      md5: 67a2f5a133d77f179f194994dd5ca157
      size: 291290505
      isexec: true
    - path: src/prepare.py
      hash: md5
      md5: 109f51fdd246d566dad9620f4f9b57d1
      size: 4082
    params:
      params.yaml:
        prepare.oversampling.method: None
        prepare.oversampling.method_params:
          neighbors: 3
          seed: 42
          sampling_strategy: auto
        prepare.split: 0.2
    outs:
    - path: data/prepared
      hash: md5
      md5: 1d5c85efb69f55c4237dfa53797be0e7.dir
      size: 837732754
      nfiles: 2
    - path: logs/prepare.log
      hash: md5
      md5: 42323d8647ba4c187871220305edbdec
      size: 287
  train:
    cmd: uv run src/train.py
    deps:
    - path: data/prepared/train.csv
      hash: md5
      md5: f12434af07a6dc00de86c0f2fe733930
      size: 670108207
    - path: src/train.py
      hash: md5
      md5: 79bc568b376d7846763bb61960ab726a
      size: 1226
    params:
      params.yaml:
        train.classifier: ImprovedC45
        train.classifier_params:
          max_depth: 10
    outs:
    - path: data/models/improved_c45_model.joblib
      hash: md5
      md5: 84d7416ab7c6c104f2771b89b8dcd5a5
      size: 116417
    - path: logs/train.log
      hash: md5
      md5: ead7ee897c863f46a59f85922f48c82f
      size: 339
  evaluate:
    cmd: uv run src/evaluate.py
    deps:
    - path: data/models/improved_c45_model.joblib
      hash: md5
      md5: 84d7416ab7c6c104f2771b89b8dcd5a5
      size: 116417
    - path: data/prepared/test.csv
      hash: md5
      md5: ebec9d37e68138f69c65140888c8e05c
      size: 167624547
    - path: src/evaluate.py
      hash: md5
      md5: 990200fa63a98b396224d705a5806e2c
      size: 1947
    outs:
    - path: evaluate
      hash: md5
      md5: 6a99805e89a8c206b1eb70aea02aabde.dir
      size: 25717840
      nfiles: 2
    - path: logs/evaluate.log
      hash: md5
      md5: 4c61eb8ece8fd6296f4627025da72193
      size: 193
